<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·±åº¦è‡ªæˆ‘é˜»ç¢å¿ƒç†æµ‹è¯•</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        :root {
            --primary: #6C63FF;
            --bg: #F0F2F5;
            --card-bg: #FFFFFF;
            --text: #333333;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text);
        }

        .container {
            width: 90%;
            max-width: 500px;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            min-height: 600px;
            display: flex;
            flex-direction: column;
        }

        /* æ¬¢è¿é¡µ & ç»“æœé¡µ */
        .page {
            padding: 40px 30px;
            text-align: center;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            box-sizing: border-box;
        }

        .page.active { display: flex; }

        h1 { font-size: 24px; margin-bottom: 10px; color: var(--primary); }
        p { font-size: 16px; line-height: 1.6; color: #666; margin-bottom: 30px; }
        
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(108, 99, 255, 0.3); }

        /* ç­”é¢˜å¡ç‰‡åŒºåŸŸ */
        #quiz-container {
            display: none; /* é»˜è®¤éšè—ï¼Œç‚¹å‡»å¼€å§‹åæ˜¾ç¤º */
            position: relative;
            flex: 1;
            overflow: hidden;
        }
        
        .question-card {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            padding: 40px 30px;
            box-sizing: border-box;
            background: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            transition: transform 0.4s ease, opacity 0.4s ease;
            opacity: 0;
            pointer-events: none;
            transform: translateX(50px);
        }

        .question-card.active {
            opacity: 1;
            pointer-events: auto;
            transform: translateX(0);
        }

        .question-card.exit {
            opacity: 0;
            transform: translateX(-50px);
        }

        .q-tag {
            font-size: 12px;
            text-transform: uppercase;
            color: #999;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .q-text {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 40px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option-btn {
            background: #f8f9fa;
            border: 2px solid #eee;
            padding: 15px;
            border-radius: 12px;
            text-align: left;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-btn:hover {
            border-color: var(--primary);
            background: #eef2ff;
        }

        /* è¿›åº¦æ¡ */
        .progress-bar {
            height: 6px;
            background: #eee;
            width: 100%;
            position: absolute;
            top: 0;
        }
        .progress-fill {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s;
        }

        /* ç»“æœå±•ç¤º */
        #result-content {
            width: 100%;
            background: white; /* ç¡®ä¿æˆªå›¾èƒŒæ™¯æ˜¯ç™½è‰² */
            padding: 20px;
            box-sizing: border-box;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
            margin: 20px 0;
        }

        .result-tag {
            background: #eef2ff;
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            display: inline-block;
            margin-bottom: 10px;
        }

        .advice-box {
            background: #F9FAFB;
            border-left: 4px solid var(--primary);
            padding: 15px;
            text-align: left;
            margin-top: 20px;
            font-size: 14px;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            width: 100%;
            justify-content: center;
        }
        
        .btn-small {
            padding: 10px 20px;
            font-size: 14px;
        }

        .hidden { display: none !important; }

    </style>
</head>
<body>

<div class="container">
    <!-- æ¬¢è¿é¡µ -->
    <div id="welcome-page" class="page active">
        <h1>æ·±åº¦å¿ƒç†é˜»ç¢æµ‹è¯•</h1>
        <p>æ¯ä¸ªäººéƒ½æœ‰æƒ³æ”¹å˜å´æ”¹å˜ä¸äº†çš„é—®é¢˜ã€‚<br>æœ¬æµ‹è¯•å°†é€šè¿‡ 30 é“é¢˜ï¼ˆè‡ªé€‚åº”ï¼‰ï¼Œ<br>ç²¾å‡†å®šä½ä½ çš„æ ¸å¿ƒé˜»ç¢ï¼Œå¹¶ç»™å‡ºè¡ŒåŠ¨æ–¹æ¡ˆã€‚</p>
        <button class="btn" onclick="startTest()">å¼€å§‹æµ‹è¯•</button>
    </div>

    <!-- ç­”é¢˜é¡µ -->
    <div id="quiz-container">
        <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
        <div id="cards-wrapper"></div>
    </div>

    <!-- ç»“æœé¡µ -->
    <div id="result-page" class="page" style="justify-content: flex-start; overflow-y: auto;">
        <div id="result-to-save">
            <div id="result-content">
                <div class="result-tag">æµ‹è¯•æŠ¥å‘Š</div>
                <h2 id="result-title">åˆ†æä¸­...</h2>
                <p id="result-desc">ç”Ÿæˆä½ çš„å¿ƒç†ç”»åƒ...</p>
                
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>

                <div class="advice-box">
                    <h3>ğŸ©º æ ¸å¿ƒå¤„æ–¹</h3>
                    <p id="advice-text">...</p>
                </div>
                
                <div style="margin-top: 20px; font-size: 12px; color: #999;">
                    è‡ªé€‚åº”å¿ƒç†æµ‹è¯„ç³»ç»Ÿ v1.0
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn btn-small" onclick="saveResult()">ğŸ“¸ ä¿å­˜ç»“æœ</button>
            <button class="btn btn-small" style="background:#ccc" onclick="location.reload()">ğŸ”„ é‡æ–°æµ‹è¯•</button>
        </div>
    </div>
</div>

<script>
    // --- é¢˜åº“é…ç½® ---
    // ä¸ºäº†Demoæ¼”ç¤ºï¼Œæˆ‘åªé…ç½®äº†å®Œæ•´çš„Aç±»ï¼ˆå®Œç¾ä¸»ä¹‰ï¼‰ï¼Œå…¶ä»–ç±»è‹¥è¢«é€‰ä¸­ï¼ŒDemoä¸­ä¼šæ¨¡æ‹Ÿæ•°æ®
    
    // ç¬¬ä¸€é˜¶æ®µï¼šé€šç”¨æ‰«æ (10é¢˜)
    const phase1Questions = [
        { id: 1, type: 'A', text: "æˆ‘ç»å¸¸å› ä¸ºè§‰å¾—è¿˜æ²¡å‡†å¤‡å¥½ï¼Œè€Œæ¨è¿Ÿå¼€å§‹åšä¸€ä»¶é‡è¦çš„äº‹ã€‚" },
        { id: 2, type: 'B', text: "å³ä½¿æˆ‘è‡ªå·±å·²ç»å¾ˆç´¯äº†ï¼Œå¦‚æœåˆ«äººå‘æˆ‘æ±‚åŠ©ï¼Œæˆ‘è¿˜æ˜¯å¾ˆéš¾æ‹’ç»ã€‚" },
        { id: 3, type: 'C', text: "æˆ‘ç»å¸¸è§‰å¾—è‡ªå·±çš„æˆå°±å…¨æ˜¯é è¿æ°”ï¼Œæ‹…å¿ƒæ—©æ™šä¼šè¢«äººè¯†ç ´ã€‚" },
        { id: 4, type: 'D', text: "ä¸€ä»¶å°å°çš„åäº‹ï¼ˆå¦‚å µè½¦ï¼‰ï¼Œå¾€å¾€èƒ½æ¯æ‰æˆ‘ä¸€æ•´å¤©çš„å¿ƒæƒ…ã€‚" },
        { id: 5, type: 'E', text: "æœ€è¿‘æˆ‘å¯¹å¾ˆå¤šä»¥å‰æ„Ÿå…´è¶£çš„äº‹æƒ…éƒ½æä¸èµ·åŠ²ï¼Œæ„Ÿè§‰æ²¡æ„ä¹‰ã€‚" },
        { id: 6, type: 'A', text: "å“ªæ€•å·¥ä½œå®Œæˆäº†95%ï¼Œåªè¦æœ‰ä¸€ä¸ªå°ç‘•ç–µï¼Œæˆ‘å°±ä¼šæå…¶æŠ“ç‹‚ã€‚" },
        { id: 7, type: 'B', text: "ä¸ºäº†äººé™…å…³ç³»çš„å’Œè°ï¼Œæˆ‘ç»å¸¸å‹æŠ‘è‡ªå·±çœŸå®çš„åå¯¹æ„è§ã€‚" },
        { id: 8, type: 'C', text: "æˆ‘å®³æ€•åˆ«äººå¯¹æˆ‘æœŸæœ›è¿‡é«˜ï¼Œå› ä¸ºæˆ‘è§‰å¾—è‡ªå·±å…¶å®æ²¡é‚£ä¹ˆå¥½ã€‚" },
        { id: 9, type: 'D', text: "æˆ‘çš„æƒ…ç»ªåƒè¿‡å±±è½¦ï¼Œä¸Šä¸€ç§’å…´å¥‹ï¼Œä¸‹ä¸€ç§’å¯èƒ½å°±é™·å…¥ä½è½ã€‚" },
        { id: 10, type: 'E', text: "æˆ‘ç»å¸¸æ„Ÿåˆ°æ·±æ·±çš„ç–²æƒ«ï¼Œè§‰å¾—åŠªåŠ›æ”¹å˜ç°çŠ¶ä¹Ÿæ²¡ä»€ä¹ˆç”¨ã€‚" }
    ];

    // ç¬¬äºŒé˜¶æ®µï¼šåˆ†æ”¯é¢˜åº“ (è¿™é‡Œä»…å±•ç¤º A-å®Œç¾ä¸»ä¹‰ çš„å®Œæ•´15é¢˜ä½œä¸ºDemo)
    const phase2Pool = {
        'A': [
            { text: "åªæœ‰åœ¨æˆªæ­¢æ—¥æœŸçš„å·¨å¤§å‹åŠ›ä¸‹ï¼Œæˆ‘æ‰èƒ½çœŸæ­£å¼€å§‹é«˜æ•ˆå·¥ä½œã€‚" },
            { text: "å°±ç®—åˆ«äººéƒ½å¤¸æˆ‘åšå¾—å¥½ï¼Œæˆ‘å†…å¿ƒä¾ç„¶è§‰å¾—ä¸å¤Ÿå®Œç¾ã€‚" },
            { text: "æˆ‘ç»å¸¸åœ¨è„‘æµ·é‡Œé¢„æ¼”ä»»åŠ¡ï¼Œä¸€æ—¦æƒ³åˆ°å›°éš¾å°±ä¸æ•¢åŠ¨å¼¹ã€‚" },
            { text: "æˆ‘å¾ˆéš¾æ”¾æƒç»™åˆ«äººï¼Œå› ä¸ºæ€»è§‰å¾—ä»–ä»¬è¾¾ä¸åˆ°æˆ‘çš„æ ‡å‡†ã€‚" },
            { text: "çŠ¯ä¸€ä¸ªå°é”™è¯¯ä¼šè®©æˆ‘è‡ªè´£å¾ˆä¹…ï¼Œç”šè‡³å¦å®šæ•´ä»¶äº‹çš„ä»·å€¼ã€‚" },
            { text: "æˆ‘åˆ—äº†å¾ˆé•¿çš„è®¡åˆ’æ¸…å•ï¼Œä½†çœŸæ­£å®Œæˆçš„æ€»æ˜¯å¾ˆå°‘ã€‚" },
            { text: "å¯¹äºâ€œå¹³åº¸â€æˆ‘æœ‰æ·±æ·±çš„ææƒ§ï¼Œè§‰å¾—ä¸åšæœ€å¥½å°±å¹²è„†åˆ«åšã€‚" },
            { text: "å¼€å§‹å‰æˆ‘ä¼šèŠ±å¤§é‡æ—¶é—´ç ”ç©¶å·¥å…·/æ–¹æ³•ï¼Œè€Œä¸æ˜¯ç›´æ¥åšäº‹ã€‚" },
            { text: "æˆ‘ç»å¸¸å› ä¸ºçº ç»“ç»†èŠ‚ï¼Œå¯¼è‡´åœ¨ä¸é‡è¦çš„åœ°æ–¹æµªè´¹å¤§é‡æ—¶é—´ã€‚" },
            { text: "çœ‹åˆ°åˆ«äººåšå¾—å¿«ä½†è´¨é‡ä¸€èˆ¬ï¼Œæˆ‘å†…å¿ƒæ—¢é„™è§†åˆç¾¡æ…•ã€‚" },
            { text: "å¨±ä¹æ—¶æˆ‘ä¹Ÿè¿½æ±‚â€œæœ€ä½³é€‰æ‹©â€ï¼Œä¸æƒ³æŠŠæ—¶é—´æµªè´¹åœ¨çƒ‚ç‰‡ä¸Šã€‚" },
            { text: "æˆ‘å¾ˆéš¾äº«å—è¿‡ç¨‹ï¼Œè„‘å­é‡Œæƒ³çš„æ°¸è¿œæ˜¯ç»“æœå¿…é¡»å®Œç¾ã€‚" },
            { text: "è¿™ç§å‹åŠ›å·²ç»è®©æˆ‘å‡ºç°äº†å¤±çœ ã€å¤´ç—›æˆ–èƒƒç—›ç­‰èº¯ä½“ç—‡çŠ¶ã€‚" },
            { text: "å› ä¸ºæ€•è¢«è¯„ä»·ï¼Œæˆ‘ä¸æ•¢å‘åˆ«äººå±•ç¤ºæˆ‘çš„åŠæˆå“ã€‚" },
            { text: "æˆ‘è§‰å¾—â€œå®Œç¾ä¸»ä¹‰â€å…¶å®æ˜¯æˆ‘ä¿æŠ¤è‡ªå·±çš„ä¸€å±‚é“ ç”²ã€‚" }
        ],
        // Demoä¸­å¦‚æœæµ‹å‡ºæ˜¯B/C/D/Eï¼Œæˆ‘ä»¬å¤ç”¨ä¸€å¥—é€šç”¨å¡«å……é¢˜ï¼Œå®é™…å¼€å‘æ—¶éœ€å¡«å…¥å¯¹åº”15é¢˜
        'Other': Array(15).fill({ text: "ï¼ˆæ­¤å¤„ä¸ºDemoå ä½ç¬¦ï¼šé’ˆå¯¹å…¶ä»–ç±»å‹çš„æ·±åº¦æ¢æµ‹é¢˜ï¼‰" })
    };

    // ç¬¬ä¸‰é˜¶æ®µï¼šè¡ŒåŠ¨é£æ ¼ (5é¢˜)
    const phase3Questions = [
        { id: 26, text: "å½“é­é‡æŒ«æŠ˜æ—¶ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ", opts: ["ç‹¬è‡ªæ¶ˆåŒ–", "æ‰¾äººå€¾è¯‰"] },
        { id: 27, text: "è¿‡å»æ”¹å˜å¤±è´¥ï¼Œé€šå¸¸æ˜¯å› ä¸ºï¼Ÿ", opts: ["ç›®æ ‡å¤ªå®å¤§", "ç¼ºä¹æŒç»­æé†’"] },
        { id: 28, text: "ä½ æ›´å–œæ¬¢çš„å»ºè®®é£æ ¼æ˜¯ï¼Ÿ", opts: ["æ¸©æŸ”çš„é¼“åŠ±", "ç›´æ¥çš„é­ç­–"] },
        { id: 29, text: "å‹åŠ›æå¤§æ—¶ï¼Œä½ ä¼šï¼Ÿ", opts: ["æš´é¥®æš´é£Ÿ/è´­ç‰©", "åªæƒ³ç¡è§‰/èººå¹³"] },
        { id: 30, text: "æ˜å¤©å¼€å§‹æ”¹å˜ï¼Œä½ å¸Œæœ›ä»å“ªé‡Œå…¥æ‰‹ï¼Ÿ", opts: ["å¿ƒç†è°ƒèŠ‚(å†¥æƒ³ç­‰)", "ç‰©ç†è¡ŒåŠ¨(è¿åŠ¨ç­‰)"] }
    ];

    // --- çŠ¶æ€ç®¡ç† ---
    let currentQIndex = 0;
    let userResponses = [];
    let currentQuestions = []; // å½“å‰ç”Ÿæˆçš„30é¢˜åˆ—è¡¨
    let scores = { A:0, B:0, C:0, D:0, E:0 }; // åˆå§‹å¾—åˆ†
    let dominantType = '';

    // --- é€»è¾‘å‡½æ•° ---

    function startTest() {
        document.getElementById('welcome-page').classList.remove('active');
        document.getElementById('quiz-container').style.display = 'block';
        
        // 1. åŠ è½½ç¬¬ä¸€é˜¶æ®µé¢˜ç›®
        currentQuestions = [...phase1Questions]; 
        renderCard(0);
    }

    function renderCard(index) {
        const wrapper = document.getElementById('cards-wrapper');
        wrapper.innerHTML = ''; // æ¸…ç©ºæ—§å¡ç‰‡
        
        // è¿›åº¦æ¡
        const progress = ((index) / 30) * 100;
        document.getElementById('progress-fill').style.width = `${progress}%`;

        if (index >= 30) {
            finishTest();
            return;
        }

        const q = currentQuestions[index];
        const card = document.createElement('div');
        card.className = 'question-card active';
        
        // æ„å»ºé€‰é¡¹
        let optionsHtml = '';
        if (index < 25) {
            // 1-5åˆ†é‡è¡¨é¢˜
            const labels = ["å®Œå…¨ä¸ç¬¦", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"];
            labels.forEach((label, i) => {
                optionsHtml += `<div class="option-btn" onclick="handleAnswer(${i+1})">${label}</div>`;
            });
        } else {
            // äºŒé€‰ä¸€é¢˜
            q.opts.forEach((opt, i) => {
                // 1åˆ†å’Œ5åˆ†åŒºåˆ«é£æ ¼
                const val = i === 0 ? 1 : 5;
                optionsHtml += `<div class="option-btn" onclick="handleAnswer(${val})">${opt}</div>`;
            });
        }

        card.innerHTML = `
            <div class="q-tag">ç¬¬ ${index + 1} / 30 é¢˜</div>
            <div class="q-text">${q.text}</div>
            <div class="options">${optionsHtml}</div>
        `;
        wrapper.appendChild(card);
    }

    function handleAnswer(value) {
        const currentQ = currentQuestions[currentQIndex];
        
        // è®¡åˆ†é€»è¾‘
        if (currentQIndex < 10) {
            // ç¬¬ä¸€é˜¶æ®µï¼šç´¯åŠ å„ç»´åº¦åˆ†
            scores[currentQ.type] += value;
        } 
        
        // åŠ¨ç”»åˆ‡æ¢
        const card = document.querySelector('.question-card');
        card.classList.add('exit');
        
        setTimeout(() => {
            currentQIndex++;
            
            // é€»è¾‘è·³è½¬ç‚¹ï¼šç¬¬10é¢˜ç»“æŸæ—¶
            if (currentQIndex === 10) {
                decidePhase2();
            }
            // é€»è¾‘è·³è½¬ç‚¹ï¼šç¬¬25é¢˜ç»“æŸæ—¶
            if (currentQIndex === 25) {
                // è¿›å…¥ç¬¬ä¸‰é˜¶æ®µï¼Œæ‹¼æ¥é¢˜ç›®
                currentQuestions = [...currentQuestions, ...phase3Questions];
            }

            renderCard(currentQIndex);
        }, 300);
    }

    function decidePhase2() {
        // è®¡ç®—æœ€é«˜åˆ†ç»´åº¦
        let maxScore = -1;
        let type = 'A';
        for (let key in scores) {
            if (scores[key] > maxScore) {
                maxScore = scores[key];
                type = key;
            }
        }
        dominantType = type;
        
        // é€‰å–é¢˜åº“
        // å¦‚æœæ˜¯Aï¼Œç”¨çœŸå®é¢˜åº“ï¼›å¦‚æœæ˜¯å…¶ä»–ï¼ŒDemoç”¨å ä½ç¬¦
        const p2Qs = phase2Pool[type] || phase2Pool['Other'];
        
        // æ‹¼æ¥åˆ°å½“å‰é¢˜ç»„
        currentQuestions = [...currentQuestions, ...p2Qs];
        
        // åœ¨æ§åˆ¶å°æ‰“å°ï¼Œæ–¹ä¾¿è°ƒè¯•
        console.log("Locked Type:", dominantType);
    }

    function finishTest() {
        document.getElementById('quiz-container').style.display = 'none';
        document.getElementById('result-page').classList.add('active');
        
        generateResult();
    }

    function generateResult() {
        // æ ‡é¢˜æ˜ å°„
        const titles = {
            'A': 'è´Ÿé‡å‰è¡Œçš„å®Œç¾ä¸»ä¹‰è€…',
            'B': 'ç–²æƒ«ä¸å ªçš„è®¨å¥½è€…',
            'C': 'ç”±äºææƒ§è€Œä¼˜ç§€çš„å†’å……è€…',
            'D': 'è¢«æƒ…ç»ªç»‘æ¶çš„æ„Ÿæ€§è€…',
            'E': 'å¯»æ‰¾æ„ä¹‰çš„æ²‰ç¡è€…'
        };

        const descs = {
            'A': 'ä½ å¯¹è‡ªå·±æœ‰ç€æé«˜çš„æ ‡å‡†ï¼Œä½†è¿™ç§æ ‡å‡†å¾€å¾€æˆä¸ºäº†æŸç¼šä½ çš„æ·é”ã€‚ä½ å®¹æ˜“é™·å…¥â€œå…¨æœ‰æˆ–å…¨æ— â€çš„æ€ç»´è¯¯åŒºã€‚',
            'B': 'ä½ æ€»æ˜¯ä¼˜å…ˆè€ƒè™‘åˆ«äººçš„æ„Ÿå—ï¼Œå´ç»å¸¸å¿½ç•¥äº†è‡ªå·±ã€‚ä½ çš„å–„è‰¯éœ€è¦é•¿å‡ºç‰™é½¿ã€‚',
            'C': 'ä½ å…¶å®å¾ˆä¼˜ç§€ï¼Œä½†ä½ æ€»æ˜¯å®³æ€•è¢«æˆ³ç©¿ã€‚ä½ éœ€è¦å­¦ä¼šå†…åŒ–ä½ çš„æˆå°±ã€‚',
            'D': 'ä½ çš„æ•æ„Ÿæ˜¯å¤©èµ‹ï¼Œä½†ä¹Ÿå®¹æ˜“è®©ä½ å—ä¼¤ã€‚ä½ éœ€è¦å»ºç«‹æƒ…ç»ªçš„â€œæŠ¤åŸæ²³â€ã€‚',
            'E': 'ä½ ä¸æ˜¯æ‡’ï¼Œä½ æ˜¯å¿ƒç´¯äº†ã€‚ä½ éœ€è¦ä»å°äº‹ä¸­æ‰¾å›æŒæ§æ„Ÿã€‚'
        };

        const advices = {
            'A': '1. ç»ƒä¹ â€œå®Œæˆæ¯”å®Œç¾é‡è¦â€ï¼šæœ¬å‘¨å°è¯•æ•…æ„åšä¸€ä»¶åªæœ‰60åˆ†çš„äº‹ã€‚<br>2. è§‰å¯Ÿâ€œåº”è¯¥â€æ€ç»´ï¼šå½“ä½ æƒ³â€œæˆ‘å¿…é¡»...â€æ—¶ï¼Œæ”¹æˆâ€œæˆ‘é€‰æ‹©...â€ã€‚<br>3. ä¸‰åˆ†é’Ÿèµ·æ­¥æ³•ï¼šä¸ç®¡å¤šéš¾çš„ä»»åŠ¡ï¼Œå…ˆåšä¸‰åˆ†é’Ÿå†è¯´ã€‚',
            'B': '1. ç»ƒä¹ è¯´â€œä¸â€ï¼šä»å°äº‹å¼€å§‹æ‹’ç»ï¼Œä¸éœ€è¦è§£é‡ŠåŸå› ã€‚<br>2. å»ºç«‹è¾¹ç•Œï¼šä¸å±äºä½ çš„è´£ä»»ï¼Œä¸è¦ä¸»åŠ¨æ½è¿‡æ¥ã€‚',
            'C': '1. å»ºç«‹æˆå°±æ¸…å•ï¼šæ¯å¤©è®°å½•ä¸‰ä»¶è‡ªå·±åšå¥½çš„å°äº‹ã€‚<br>2. åŒºåˆ†äº‹å®ä¸æ„Ÿå—ï¼šä½ è§‰å¾—ä¸è¡Œæ˜¯æ„Ÿå—ï¼Œæ•°æ®è¯æ˜ä½ è¡Œæ˜¯äº‹å®ã€‚',
            'D': '1. æƒ…ç»ªæš‚åœé”®ï¼šæƒ³å‘ç«æ—¶ï¼Œå¼ºåˆ¶è‡ªå·±æ•°æ•°åˆ°10ã€‚<br>2. åŒºåˆ†äººä¸äº‹ï¼šäº‹æƒ…æç ¸äº†ä¸ä»£è¡¨ä½ è¿™ä¸ªäººæç ¸äº†ã€‚',
            'E': '1. å¾®å°è¡ŒåŠ¨ï¼šæ¯å¤©æ•´ç†åºŠé“ºï¼Œå»ºç«‹ç§©åºæ„Ÿã€‚<br>2. å¯»æ‰¾å¿ƒæµï¼šåšä¸€ä»¶è®©ä½ å¿˜è®°æ—¶é—´çš„å°äº‹ã€‚'
        };

        // å¡«å……æ–‡æœ¬
        document.getElementById('result-title').innerText = titles[dominantType] || titles['A'];
        document.getElementById('result-desc').innerText = descs[dominantType] || descs['A'];
        document.getElementById('advice-text').innerHTML = advices[dominantType] || advices['A'];

        // ç»˜åˆ¶é›·è¾¾å›¾
        const ctx = document.getElementById('radarChart').getContext('2d');
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['å®Œç¾ä¸»ä¹‰', 'è®¨å¥½å€¾å‘', 'å†’å……è€…', 'æƒ…ç»ªåŒ–', 'èººå¹³æ„Ÿ'],
                datasets: [{
                    label: 'ä½ çš„å¿ƒç†é˜»ç¢æ¨¡å‹',
                    data: [scores.A, scores.B, scores.C, scores.D, scores.E],
                    backgroundColor: 'rgba(108, 99, 255, 0.2)',
                    borderColor: 'rgba(108, 99, 255, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgba(108, 99, 255, 1)'
                }]
            },
            options: {
                scales: {
                    r: {
                        angleLines: { display: true },
                        suggestedMin: 0,
                        suggestedMax: 10
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            }
        });
    }

    function saveResult() {
        const resultNode = document.getElementById('result-to-save');
        html2canvas(resultNode).then(canvas => {
            const link = document.createElement('a');
            link.download = 'æˆ‘çš„å¿ƒç†ç”»åƒ.png';
            link.href = canvas.toDataURL();
            link.click();
        });
    }

</script>
</body>
</html>